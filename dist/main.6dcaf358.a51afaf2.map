{"version":3,"sources":["../js/main.js"],"names":["jQuery","document","ready","modalTriggerBts","$","coverLayer","duration","firstCustomMinaAnimation","bezier","x1","y1","x2","y2","epsilon","curveX","t","v","curveY","derivativeCurveX","x","t0","t1","t2","d2","i","Math","abs","animateModal","paths","pathSteps","animationType","path1","path2","path3","animate","each","initModal","modalTrigger","modalTriggerId","attr","modal","svgCoverLayer","children","find","pathsArray","Snap","eq","data","on","event","preventDefault","addClass","removeClass","querySelector","addEventListener","url","http","XMLHttpRequest","onreadystatechange","readyState","status","palette","JSON","parse","responseText","result","documentElement","style","setProperty","open","send","stringify","model","setTimeout","fadeOut","hide"],"mappings":"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","file":"main.6dcaf358.a51afaf2.map","sourceRoot":"","sourcesContent":["jQuery(document).ready(function () {\r\n    var modalTriggerBts = $('a[data-type=\"cd-modal-trigger\"]'),\r\n        coverLayer = $('.cd-cover-layer');\r\n\r\n    /*\r\n     convert a cubic bezier value to a custom mina easing\r\n     http://stackoverflow.com/questions/25265197/how-to-convert-a-cubic-bezier-value-to-a-custom-mina-easing-snap-svg\r\n     */\r\n    var duration = 600,\r\n        epsilon = (1000 / 60 / duration) / 4,\r\n        firstCustomMinaAnimation = bezier(.63, .35, .48, .92, epsilon);\r\n\r\n    modalTriggerBts.each(function () {\r\n        initModal($(this));\r\n    });\r\n\r\n    function initModal(modalTrigger) {\r\n        var modalTriggerId = modalTrigger.attr('id'),\r\n            modal = $('.cd-modal[data-modal=\"' + modalTriggerId + '\"]'),\r\n            svgCoverLayer = modal.children('.cd-svg-bg'),\r\n            paths = svgCoverLayer.find('path'),\r\n            pathsArray = [];\r\n        //store Snap objects\r\n        pathsArray[0] = Snap('#' + paths.eq(0).attr('id')),\r\n            pathsArray[1] = Snap('#' + paths.eq(1).attr('id')),\r\n            pathsArray[2] = Snap('#' + paths.eq(2).attr('id'));\r\n\r\n        //store path 'd' attribute values\r\n        var pathSteps = [];\r\n        pathSteps[0] = svgCoverLayer.data('step1');\r\n        pathSteps[1] = svgCoverLayer.data('step2');\r\n        pathSteps[2] = svgCoverLayer.data('step3');\r\n        pathSteps[3] = svgCoverLayer.data('step4');\r\n        pathSteps[4] = svgCoverLayer.data('step5');\r\n        pathSteps[5] = svgCoverLayer.data('step6');\r\n\r\n        //open modal window\r\n        modalTrigger.on('click', function (event) {\r\n            event.preventDefault();\r\n            modal.addClass('modal-is-visible');\r\n            coverLayer.addClass('modal-is-visible');\r\n            animateModal(pathsArray, pathSteps, duration, 'open');\r\n        });\r\n\r\n        //close modal window\r\n        modal.on('click', '.modal-close', function (event) {\r\n            event.preventDefault();\r\n            modal.removeClass('modal-is-visible');\r\n            coverLayer.removeClass('modal-is-visible');\r\n            animateModal(pathsArray, pathSteps, duration, 'close');\r\n        });\r\n    }\r\n\r\n    function animateModal(paths, pathSteps, duration, animationType) {\r\n        var path1 = (animationType == 'open') ? pathSteps[1] : pathSteps[0],\r\n            path2 = (animationType == 'open') ? pathSteps[3] : pathSteps[2],\r\n            path3 = (animationType == 'open') ? pathSteps[5] : pathSteps[4];\r\n        paths[0].animate({'d': path1}, duration, firstCustomMinaAnimation);\r\n        paths[1].animate({'d': path2}, duration, firstCustomMinaAnimation);\r\n        paths[2].animate({'d': path3}, duration, firstCustomMinaAnimation);\r\n    }\r\n\r\n    function bezier(x1, y1, x2, y2, epsilon) {\r\n        //https://github.com/arian/cubic-bezier\r\n        var curveX = function (t) {\r\n            var v = 1 - t;\r\n            return 3 * v * v * t * x1 + 3 * v * t * t * x2 + t * t * t;\r\n        };\r\n\r\n        var curveY = function (t) {\r\n            var v = 1 - t;\r\n            return 3 * v * v * t * y1 + 3 * v * t * t * y2 + t * t * t;\r\n        };\r\n\r\n        var derivativeCurveX = function (t) {\r\n            var v = 1 - t;\r\n            return 3 * (2 * (t - 1) * t + v * v) * x1 + 3 * (-t * t * t + 2 * v * t) * x2;\r\n        };\r\n\r\n        return function (t) {\r\n\r\n            var x = t, t0, t1, t2, x2, d2, i;\r\n\r\n            // First try a few iterations of Newton's method -- normally very fast.\r\n            for (t2 = x, i = 0; i < 8; i++) {\r\n                x2 = curveX(t2) - x;\r\n                if (Math.abs(x2) < epsilon) return curveY(t2);\r\n                d2 = derivativeCurveX(t2);\r\n                if (Math.abs(d2) < 1e-6) break;\r\n                t2 = t2 - x2 / d2;\r\n            }\r\n\r\n            t0 = 0, t1 = 1, t2 = x;\r\n\r\n            if (t2 < t0) return curveY(t0);\r\n            if (t2 > t1) return curveY(t1);\r\n\r\n            // Fallback to the bisection method for reliability.\r\n            while (t0 < t1) {\r\n                x2 = curveX(t2);\r\n                if (Math.abs(x2 - x) < epsilon) return curveY(t2);\r\n                if (x > x2) t0 = t2;\r\n                else t1 = t2;\r\n                t2 = (t1 - t0) * .5 + t0;\r\n            }\r\n\r\n            // Failure\r\n            return curveY(t2);\r\n\r\n        };\r\n    };\r\n\r\n\r\n    document.querySelector(\".left-corner\").addEventListener(\"click\", function () {\r\n        var url = \"http://colormind.io/api/\";\r\n        var data = {\r\n            model: \"default\"\r\n        };\r\n\r\n        var http = new XMLHttpRequest();\r\n\r\n        http.onreadystatechange = function () {\r\n            if (http.readyState == 4 && http.status == 200) {\r\n                var palette = JSON.parse(http.responseText).result;\r\n                document.documentElement.style.setProperty('--color1', \"rgb(\"+palette[4][0] + \",\"+ palette[4][1] +\",\"+ palette[4][2]+\")\");\r\n                document.documentElement.style.setProperty('--color3', \"rgb(\"+palette[0][0] + \",\"+ palette[0][1] +\",\"+ palette[0][2]+\")\");\r\n                document.documentElement.style.setProperty('--color2', \"rgb(\"+palette[2][0] + \",\"+ palette[2][1] +\",\"+ palette[2][2]+\")\");\r\n\r\n                // --color1: rgb(50,53,64);\r\n                // --color2: rgb(211,84,78);\r\n\r\n                // --color1: #353B53;\r\n                // --color2: #6EA785;\r\n\r\n                // --color1: rgb(29,46,31);\r\n                // --color2: rgb(155,96,78);\r\n            }\r\n        };\r\n\r\n        http.open(\"POST\", url, true);\r\n        http.send(JSON.stringify(data));\r\n\r\n    });\r\n\r\n\r\n    setTimeout(function () {\r\n        $('.loading-container').fadeOut(function () {\r\n            $(this).hide();\r\n        });\r\n    }, 1100);\r\n});"]}