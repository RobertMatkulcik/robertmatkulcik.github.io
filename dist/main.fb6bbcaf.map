{"version":3,"sources":["js/main.js"],"names":["jQuery","document","ready","modalTriggerBts","$","coverLayer","duration","epsilon","firstCustomMinaAnimation","bezier","each","initModal","modalTrigger","modalTriggerId","attr","modal","svgCoverLayer","children","paths","find","pathsArray","Snap","eq","pathSteps","data","on","event","preventDefault","addClass","animateModal","removeClass","animationType","path1","path2","path3","animate","x1","y1","x2","y2","curveX","t","v","curveY","derivativeCurveX","x","t0","t1","t2","d2","i","Math","abs","querySelector","addEventListener","url","model","http","XMLHttpRequest","onreadystatechange","readyState","status","palette","JSON","parse","responseText","result","documentElement","style","setProperty","open","send","stringify","setTimeout","fadeOut","hide"],"mappings":"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","file":"main.fb6bbcaf.map","sourceRoot":"..","sourcesContent":["jQuery(document).ready(function () {\r\n    var modalTriggerBts = $('a[data-type=\"cd-modal-trigger\"]'),\r\n        coverLayer = $('.cd-cover-layer');\r\n\r\n    /*\r\n     convert a cubic bezier value to a custom mina easing\r\n     http://stackoverflow.com/questions/25265197/how-to-convert-a-cubic-bezier-value-to-a-custom-mina-easing-snap-svg\r\n     */\r\n    var duration = 600,\r\n        epsilon = (1000 / 60 / duration) / 4,\r\n        firstCustomMinaAnimation = bezier(.63, .35, .48, .92, epsilon);\r\n\r\n    modalTriggerBts.each(function () {\r\n        initModal($(this));\r\n    });\r\n\r\n    function initModal(modalTrigger) {\r\n        var modalTriggerId = modalTrigger.attr('id'),\r\n            modal = $('.cd-modal[data-modal=\"' + modalTriggerId + '\"]'),\r\n            svgCoverLayer = modal.children('.cd-svg-bg'),\r\n            paths = svgCoverLayer.find('path'),\r\n            pathsArray = [];\r\n        //store Snap objects\r\n        pathsArray[0] = Snap('#' + paths.eq(0).attr('id')),\r\n            pathsArray[1] = Snap('#' + paths.eq(1).attr('id')),\r\n            pathsArray[2] = Snap('#' + paths.eq(2).attr('id'));\r\n\r\n        //store path 'd' attribute values\r\n        var pathSteps = [];\r\n        pathSteps[0] = svgCoverLayer.data('step1');\r\n        pathSteps[1] = svgCoverLayer.data('step2');\r\n        pathSteps[2] = svgCoverLayer.data('step3');\r\n        pathSteps[3] = svgCoverLayer.data('step4');\r\n        pathSteps[4] = svgCoverLayer.data('step5');\r\n        pathSteps[5] = svgCoverLayer.data('step6');\r\n\r\n        //open modal window\r\n        modalTrigger.on('click', function (event) {\r\n            event.preventDefault();\r\n            modal.addClass('modal-is-visible');\r\n            coverLayer.addClass('modal-is-visible');\r\n            animateModal(pathsArray, pathSteps, duration, 'open');\r\n        });\r\n\r\n        //close modal window\r\n        modal.on('click', '.modal-close', function (event) {\r\n            event.preventDefault();\r\n            modal.removeClass('modal-is-visible');\r\n            coverLayer.removeClass('modal-is-visible');\r\n            animateModal(pathsArray, pathSteps, duration, 'close');\r\n        });\r\n    }\r\n\r\n    function animateModal(paths, pathSteps, duration, animationType) {\r\n        var path1 = (animationType == 'open') ? pathSteps[1] : pathSteps[0],\r\n            path2 = (animationType == 'open') ? pathSteps[3] : pathSteps[2],\r\n            path3 = (animationType == 'open') ? pathSteps[5] : pathSteps[4];\r\n        paths[0].animate({'d': path1}, duration, firstCustomMinaAnimation);\r\n        paths[1].animate({'d': path2}, duration, firstCustomMinaAnimation);\r\n        paths[2].animate({'d': path3}, duration, firstCustomMinaAnimation);\r\n    }\r\n\r\n    function bezier(x1, y1, x2, y2, epsilon) {\r\n        //https://github.com/arian/cubic-bezier\r\n        var curveX = function (t) {\r\n            var v = 1 - t;\r\n            return 3 * v * v * t * x1 + 3 * v * t * t * x2 + t * t * t;\r\n        };\r\n\r\n        var curveY = function (t) {\r\n            var v = 1 - t;\r\n            return 3 * v * v * t * y1 + 3 * v * t * t * y2 + t * t * t;\r\n        };\r\n\r\n        var derivativeCurveX = function (t) {\r\n            var v = 1 - t;\r\n            return 3 * (2 * (t - 1) * t + v * v) * x1 + 3 * (-t * t * t + 2 * v * t) * x2;\r\n        };\r\n\r\n        return function (t) {\r\n\r\n            var x = t, t0, t1, t2, x2, d2, i;\r\n\r\n            // First try a few iterations of Newton's method -- normally very fast.\r\n            for (t2 = x, i = 0; i < 8; i++) {\r\n                x2 = curveX(t2) - x;\r\n                if (Math.abs(x2) < epsilon) return curveY(t2);\r\n                d2 = derivativeCurveX(t2);\r\n                if (Math.abs(d2) < 1e-6) break;\r\n                t2 = t2 - x2 / d2;\r\n            }\r\n\r\n            t0 = 0, t1 = 1, t2 = x;\r\n\r\n            if (t2 < t0) return curveY(t0);\r\n            if (t2 > t1) return curveY(t1);\r\n\r\n            // Fallback to the bisection method for reliability.\r\n            while (t0 < t1) {\r\n                x2 = curveX(t2);\r\n                if (Math.abs(x2 - x) < epsilon) return curveY(t2);\r\n                if (x > x2) t0 = t2;\r\n                else t1 = t2;\r\n                t2 = (t1 - t0) * .5 + t0;\r\n            }\r\n\r\n            // Failure\r\n            return curveY(t2);\r\n\r\n        };\r\n    };\r\n\r\n\r\n    document.querySelector(\".left-corner\").addEventListener(\"click\", function () {\r\n        var url = \"http://colormind.io/api/\";\r\n        var data = {\r\n            model: \"default\"\r\n        };\r\n\r\n        var http = new XMLHttpRequest();\r\n\r\n        http.onreadystatechange = function () {\r\n            if (http.readyState == 4 && http.status == 200) {\r\n                var palette = JSON.parse(http.responseText).result;\r\n                document.documentElement.style.setProperty('--color1', \"rgb(\"+palette[4][0] + \",\"+ palette[4][1] +\",\"+ palette[4][2]+\")\");\r\n                document.documentElement.style.setProperty('--color3', \"rgb(\"+palette[0][0] + \",\"+ palette[0][1] +\",\"+ palette[0][2]+\")\");\r\n                document.documentElement.style.setProperty('--color2', \"rgb(\"+palette[2][0] + \",\"+ palette[2][1] +\",\"+ palette[2][2]+\")\");\r\n\r\n                // --color1: rgb(50,53,64);\r\n                // --color2: rgb(211,84,78);\r\n\r\n                // --color1: #353B53;\r\n                // --color2: #6EA785;\r\n\r\n                // --color1: rgb(29,46,31);\r\n                // --color2: rgb(155,96,78);\r\n            }\r\n        };\r\n\r\n        http.open(\"POST\", url, true);\r\n        http.send(JSON.stringify(data));\r\n\r\n    });\r\n\r\n\r\n    setTimeout(function () {\r\n        $('.loading-container').fadeOut(function () {\r\n            $(this).hide();\r\n        });\r\n    }, 1100);\r\n});"]}